{# components/macros.twig #}
{# ===================================================== #}
{#  ãƒã‚¯ãƒ­é›†ï¼šã‚ã‚‰ã‚†ã‚‹ãƒ†ãƒ³ãƒ—ãƒ¬ã§ä½¿ã„ã¾ã‚ã›ã‚‹ä¾¿åˆ©ã‚»ãƒƒãƒˆ #}
{# ===================================================== #}

{# 1. ----- ãƒã‚¯ãƒ­ã®åŸºæœ¬ ----- #}
{% macro simpleBadge(type, label) %}
	<span class="badge badge-{{ type }}">{{ label }}</span>
{% endmacro %}


{% macro newsItem(item) %}
<li class="news-item">
	<span class="news-date">{{ item.date }}</span>
	<a href="/news/{{ item.slug }}" class="news-title">{{ item.title }}</a>
</li>
{% endmacro %}


{% macro categoryLabel(cat) %}
	<span class="cat cat-{{ cat.slug }}">{{ cat.name }}</span>
{% endmacro %}


{% macro image(src, alt) %}
	<figure class="img-block">
		<img src="{{ src }}" alt="{{ alt }}">
		{% if alt %}
			<figcaption>{{ alt }}</figcaption>
		{% endif %}
	</figure>
{% endmacro %}


{% macro link(path, text, external) %}
	{% if external %}
		<a href="{{ path }}" target="_blank" rel="noopener">{{ text }}</a>
	{% else %}
		<a href="{{ path }}">{{ text }}</a>
	{% endif %}
{% endmacro %}


{% macro list(items) %}
<ul>
	{% for item in items %}
		<li>{{ item }}</li>
	{% endfor %}
</ul>
{% endmacro %}


{% macro table(rows) %}
<table class="table">
	{% for r in rows %}
		<tr>
			{% for col in r %}
				<td>{{ col }}</td>
			{% endfor %}
		</tr>
	{% endfor %}
</table>
{% endmacro %}


{% macro simplePagination(current, total, baseUrl) %}
<nav class="pagination">
	{% for i in 1..total %}
		{% if i == current %}
			<span class="current">{{ i }}</span>
		{% else %}
			<a href="{{ baseUrl }}{{ i }}">{{ i }}</a>
		{% endif %}
	{% endfor %}
</nav>
{% endmacro %}


{% macro box(title, content) %}
<div class="box">
	<h3>{{ title }}</h3>
	<div class="box-body">
		{{ content }}
	</div>
</div>
{% endmacro %}


{% macro simpleArticleCard(article) %}
<div class="card">
	<h3 class="card-title">{{ article.title }}</h3>
	<p class="card-date">{{ article.date }}</p>
	<p class="card-excerpt">{{ article.excerpt }}</p>
	<a class="card-link" href="/column/detail/{{ article.id }}">ç¶šãã‚’èª­ã‚€</a>
</div>
{% endmacro %}

{# 2. ----- ãƒã‚¯ãƒ­å¿œç”¨ç·¨ ----- #}
{# 2-1. å†å¸°ã‚«ãƒ†ã‚´ãƒªãƒ¼ãƒ„ãƒªãƒ¼ #}
{% macro categoryTree(list) %}
<ul>
	{% for item in list %}
		<li>
			{{ item.name }}
			{# å­ãŒã‚ã‚‹ãªã‚‰å†å¸°å‘¼ã³å‡ºã— #}
			{% if item.children is defined and item.children|length > 0 %}
				{# NOTE: _self.macroå() ã§ã€Œè‡ªåˆ†è‡ªèº«ã€ã‚’å†å¸°å‘¼ã³å‡ºã— #}
				{{ _self.categoryTree(item.children) }}
			{% endif %}
		</li>
	{% endfor %}
</ul>
{% endmacro %}

{# 2-2. ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ #}
{% macro naviPagination(current, total, baseUrl) %}
<nav class="pagination">
	{# å‰ã¸ #}
	{% if current > 1 %}
		<a href="{{ baseUrl }}/page/{{ current - 1 }}">å‰ã¸</a>
	{% endif %}
	{# æ•°å­—ãƒªãƒ³ã‚¯ #}
	{% for i in 1..total %}
		<a href="{{ baseUrl }}/page/{{ i }}"
			class="{{ i == current ? 'current' : '' }}">
			{{ i }}
		</a>
	{% endfor %}
	{# æ¬¡ã¸ #}
	{% if current < total %}
		<a href="{{ baseUrl }}/page/{{ current + 1 }}">æ¬¡ã¸</a>
	{% endif %}
</nav>
{% endmacro %}

{# 2-3. ã‚«ãƒ¼ãƒ‰ç”Ÿæˆ #}
{% macro boxArticleCard(item) %}
<article class="card">
	<h4>{{ item.title }}</h4>
	<p>{{ item.date }}</p>
	<p>{{ item.excerpt }}</p>
</article>
{% endmacro %}

{# 2-4. ãƒãƒƒã‚¸ç³» #}
{% macro iconBadge(type, label) %}
<span class="badge badge-{{ type }}">
	{% if type == 'new' %}ğŸ†•{% endif %}
	{% if type == 'up' %}â¬†ï¸{% endif %}
	{{ label }}
</span>
{% endmacro %}

{# 2-5. äº¤äº’è‰²ãƒ†ãƒ¼ãƒ–ãƒ« #}
{% macro zebraRow(item, index) %}
<tr class="{{ index is even ? 'even' : 'odd' }}">
	<td>{{ item }}</td>
</tr>
{% endmacro %}

{# 2-6. ãƒ•ã‚©ãƒ¼ãƒ éƒ¨å“ #}
{% macro input(name, label, value) %}
<label>{{ label }}
	<input type="text" name="{{ name }}" value="{{ value }}">
</label>
{% endmacro %}

{# 2-7. ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¡¨ç¤ºï¼ˆãƒ‘ãƒ¼ãƒ„å†…ã§ã®æ¡ä»¶åˆ†å²ï¼‰ #}
{% macro statusLabel(status) %}
<span class="
	{{ status == 'ok' ? 'green' : '' }}
	{{ status == 'ng' ? 'red' : '' }}
">
	{{ status|upper }}
</span>
{% endmacro %}
